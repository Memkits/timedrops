[["ns","timedrops.component.portal",[":require",["[]","hsl.core",":refer",["[]","hsl"]],["[]","respo.alias",":refer",["[]","create-comp","div","span","input","button"]],["[]","respo.component.debug",":refer",["[]","comp-debug"]],["[]","timedrops.component.event",":refer",["[]","comp-event"]],["[]","timedrops.util.text",":refer",["[]","space"]]]],["defn","init-state",["store"],"|"],["defn","update-state",["state","text"],"text"],["defn","handle-input",["mutate"],["fn",["e","dispatch"],["mutate",[":value","e"]]]],["defn","handle-click",["state","mutate"],["fn",["e","dispatch"],["if",[">",["count","state"],"0"],["do",["dispatch",":event/add","state"],["mutate","|"]]]]],["def","style-portal",["{}",[":display","|flex"],[":flex-direction","|column"],[":position","|absolute"],[":width","|100%"],[":height","|100%"]]],["def","style-input",["{}",[":font-size","|16px"],[":line-height","2"],[":font-family","|Roboto"],[":outline","|none"],[":border","|none"],[":padding","|0 0px"]]],["def","style-button",["{}",[":font-family","|Roboto"],[":border","|none"],[":outine","|none"],[":background-color",["hsl","200","80","70"]],[":color",["hsl","0","0","100"]],[":font-size","|16px"],[":line-height","2"],[":padding","|0 8px"]]],["defn","style-list",["n"],["{}",[":position","|relative"],[":height",["str",["*","n","40"],"|px"]]]],["def","style-container",["{}",[":flex","1"],[":overflow","|auto"],[":padding-bottom","|200px"]]],["def","style-header",["{}",[":padding","|8px 8px"]]],["defn","render",["store"],["fn",["state","mutate"],["div",["{}",[":style","style-portal"]],["div",["{}",[":style","style-header"]],["input",["{}",[":attrs",["{}",[":value","state"],[":placeholder","|A thing..."]]],[":event",["{}",[":input",["handle-input","mutate"]]]],[":style","style-input"]]],["space","16","nil"],["button",["{}",[":attrs",["{}",[":inner-text","|Pin"]]],[":event",["{}",[":click",["handle-click","state","mutate"]]]],[":style","style-button"]]]],["div",["{}",[":style","style-container"]],["div",["{}",[":style",["style-list",["count",[":events","store"]]]]],["->>",[":events","store"],["sort",["fn",["a","b"],["compare",[":time",["val","b"]],[":time",["val","a"]]]]],["map-indexed",["fn",["index","entry"],["let",[["event-id",["key","entry"]],["event",["val","entry"]]],["[]","event-id",["comp-event","event","index",[":now","store"]]]]]],["into",["sorted-map"]]]]],["--","comp-debug","store",["{}"]]]]],["def","comp-portal",["create-comp",":portal","init-state","update-state","render"]]]